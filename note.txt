.. django template tag for get a random unsplash image

import os
import requests
from django import template
from django.template.defaultfilters import register


@register.simple_tag
def random_unsplash_image(width, height):
    # Configure your Unsplash API settings (replace with your own API access details)
    access_key = os.getenv("UNSPLASH_ACCESS_KEY")
    endpoint = "https://api.unsplash.com/photos/random"

    # Define the parameters for the random image request
    params = {
        "client_id": access_key,
        "query": "random",
        "w": width,
        "h": height,
    }

    try:
        response = requests.get(endpoint, params=params)
        response.raise_for_status()
        data = response.json()
        image_url = data["urls"]["regular"]
    except Exception as e:
        image_url = ""  # Provide a default image URL or handle the error as needed

    return image_url



.. homepage outline 



notice

Governance Bodies

contact

useful links

image gallery

stat 

what's happening 

CO-CURRICULAR 

Our Bright Students!


# import json
# import os
# from django.shortcuts import render
# from django.views.generic import TemplateView


# class HomePageView(TemplateView):
#     template_name = "home/homepage.html"

#     def get_context_data(self, **kwargs):
#         context = super().get_context_data(**kwargs)

#         # using temporary data for dev purpose
#         json_file_path = os.path.join(os.path.dirname(__file__), "data/data.json")
#         with open(json_file_path, "r") as json_file:
#             data = json.load(json_file)

#         context["dropdowns"] = data["dropdowns"]
#         context["notices"] = data["notices"]
#         context["img_data"] = data["images"]
#         context["useful_links"] = data["useful_links"]
#         context["whatsHappening"] = data["whatsHappening"]
#         context["star_student"] = data["star_student"]
#         context["data"] = [i for i in range(1, 20)]
#         return context
